"use strict";(self.webpackChunkdesignsystem=self.webpackChunkdesignsystem||[]).push([[3278],{"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[6].use[1]!./node_modules/postcss-loader/dist/cjs.js!./src/components/dotcom/Rail/Rail.module.css":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__),_node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/css-loader/dist/runtime/getUrl.js"),_node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2__),___CSS_LOADER_URL_IMPORT_0___=new URL(__webpack_require__("./public/images/grad2.png"),__webpack_require__.b),___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()),___CSS_LOADER_URL_REPLACEMENT_0___=_node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_0___);___CSS_LOADER_EXPORT___.push([module.id,`.Rail_rail__GIbqk {\n    padding: 32rem var(--gridGutter);\n    box-sizing: border-box;\n    width: 100vw;\n    position: relative;\n}\n.Rail_rail__GIbqk[data-hasbg="true"]:before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background: transparent url(${___CSS_LOADER_URL_REPLACEMENT_0___}) center center no-repeat;\n    background-size: cover;\n    filter: brightness(0.4)\n}\n.Rail_rail__GIbqk:focus-within,\n.Rail_rail__GIbqk:hover {\n    z-index: 100\n}\n.Rail_rail__GIbqk:focus-within ~ .Rail_rail__GIbqk,\n.Rail_rail__GIbqk:hover ~ .Rail_rail__GIbqk {\n    z-index: 0\n}\n\n\n.Rail_railTitle__TkarX {\n    padding-bottom: 24rem;\n    position: relative;\n}\n.Rail_railList__xOrU0 {\n    --railOffset: 0;\n    display: flex;\n    gap: 4rem;\n    width: fit-content;\n\n    transform: translate3d(var(--railOffset),0,0);\n    transition: all var(--animation-duration-xlarge) var(--animation-ease-out);\n}\n.Rail_railList__xOrU0 li:hover {\n    z-index: 1;\n    /* transform: translate3d(0,-60rem,0) */\n}\n\n\n.Rail_slideControl__s3trs {\n    width: var(--gridGutter);\n    height: calc( 100% - 110px );\n    position: absolute;\n    top: 78rem;\n    left: 0;\n    background-color: rgba(17,17,17,0.8);\n    cursor: pointer;\n    z-index: 10;\n    color: var(--textOnDark);\n    overflow: hidden;\n}\n.Rail_slideControl__s3trs svg {\n    height: initial;\n    width: 50%;\n    pointer-events: none;\n}\n.Rail_slideControl__s3trs:first-of-type {\n    left: 0;\n}\n.Rail_slideControl__s3trs:first-of-type svg {\n    transform: rotate(180deg)\n}\n.Rail_slideControl__s3trs:last-of-type {\n    left: calc( 100vw - var(--gridGutter) );\n}\n\n@media screen and ( max-width: 1024px ){\n    .Rail_slideControl__s3trs {\n        width: calc( var(--gridGutter) * 2 );\n    }\n    .Rail_slideControl__s3trs:last-of-type {\n        left: calc( 100vw - calc( var(--gridGutter) * 2 ) );\n    }   \n}\n\n.Rail_rail__GIbqk:has(ul[data-currentview="0"]) .Rail_slideControl__s3trs:first-of-type {\n    opacity: 0;\n    pointer-events: none;\n}\n.Rail_rail__GIbqk:has(ul[data-canmove="false"]) .Rail_slideControl__s3trs:last-of-type {\n    opacity: 0;\n    pointer-events: none;\n}\n\n`,"",{version:3,sources:["webpack://./src/components/dotcom/Rail/Rail.module.css"],names:[],mappings:"AAAA;IACI,gCAAgC;IAChC,sBAAsB;IACtB,YAAY;IACZ,kBAAkB;AACtB;AACA;IACI,WAAW;IACX,kBAAkB;IAClB,MAAM;IACN,OAAO;IACP,WAAW;IACX,YAAY;IACZ,uFAAwF;IACxF,sBAAsB;IACtB;AACJ;AACA;;IAEI;AACJ;AACA;;IAEI;AACJ;;;AAGA;IACI,qBAAqB;IACrB,kBAAkB;AACtB;AACA;IACI,eAAe;IACf,aAAa;IACb,SAAS;IACT,kBAAkB;;IAElB,6CAA6C;IAC7C,0EAA0E;AAC9E;AACA;IACI,UAAU;IACV,uCAAuC;AAC3C;;;AAGA;IACI,wBAAwB;IACxB,4BAA4B;IAC5B,kBAAkB;IAClB,UAAU;IACV,OAAO;IACP,oCAAoC;IACpC,eAAe;IACf,WAAW;IACX,wBAAwB;IACxB,gBAAgB;AACpB;AACA;IACI,eAAe;IACf,UAAU;IACV,oBAAoB;AACxB;AACA;IACI,OAAO;AACX;AACA;IACI;AACJ;AACA;IACI,uCAAuC;AAC3C;;AAEA;IACI;QACI,oCAAoC;IACxC;IACA;QACI,mDAAmD;IACvD;AACJ;;AAEA;IACI,UAAU;IACV,oBAAoB;AACxB;AACA;IACI,UAAU;IACV,oBAAoB;AACxB",sourcesContent:['.rail {\n    padding: 32rem var(--gridGutter);\n    box-sizing: border-box;\n    width: 100vw;\n    position: relative;\n}\n.rail[data-hasbg="true"]:before {\n    content: \'\';\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background: transparent url(../../../../public/images/grad2.png) center center no-repeat;\n    background-size: cover;\n    filter: brightness(0.4)\n}\n.rail:focus-within,\n.rail:hover {\n    z-index: 100\n}\n.rail:focus-within ~ .rail,\n.rail:hover ~ .rail {\n    z-index: 0\n}\n\n\n.railTitle {\n    padding-bottom: 24rem;\n    position: relative;\n}\n.railList {\n    --railOffset: 0;\n    display: flex;\n    gap: 4rem;\n    width: fit-content;\n\n    transform: translate3d(var(--railOffset),0,0);\n    transition: all var(--animation-duration-xlarge) var(--animation-ease-out);\n}\n.railList li:hover {\n    z-index: 1;\n    /* transform: translate3d(0,-60rem,0) */\n}\n\n\n.slideControl {\n    width: var(--gridGutter);\n    height: calc( 100% - 110px );\n    position: absolute;\n    top: 78rem;\n    left: 0;\n    background-color: rgba(17,17,17,0.8);\n    cursor: pointer;\n    z-index: 10;\n    color: var(--textOnDark);\n    overflow: hidden;\n}\n.slideControl svg {\n    height: initial;\n    width: 50%;\n    pointer-events: none;\n}\n.slideControl:first-of-type {\n    left: 0;\n}\n.slideControl:first-of-type svg {\n    transform: rotate(180deg)\n}\n.slideControl:last-of-type {\n    left: calc( 100vw - var(--gridGutter) );\n}\n\n@media screen and ( max-width: 1024px ){\n    .slideControl {\n        width: calc( var(--gridGutter) * 2 );\n    }\n    .slideControl:last-of-type {\n        left: calc( 100vw - calc( var(--gridGutter) * 2 ) );\n    }   \n}\n\n.rail:has(ul[data-currentview="0"]) .slideControl:first-of-type {\n    opacity: 0;\n    pointer-events: none;\n}\n.rail:has(ul[data-canmove="false"]) .slideControl:last-of-type {\n    opacity: 0;\n    pointer-events: none;\n}\n\n'],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={rail:"Rail_rail__GIbqk",railTitle:"Rail_railTitle__TkarX",railList:"Rail_railList__xOrU0",slideControl:"Rail_slideControl__s3trs"};const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./node_modules/css-loader/dist/runtime/getUrl.js":module=>{module.exports=function(url,options){return options||(options={}),url?(url=String(url.__esModule?url.default:url),/^['"].*['"]$/.test(url)&&(url=url.slice(1,-1)),options.hash&&(url+=options.hash),/["'() \t\n]|(%20)/.test(url)||options.needQuotes?'"'.concat(url.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):url):url}},"./public/images/grad2.png":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__.p+"static/media/grad2.466bcb01.png"},"./src/components/dotcom/Rail/Rail.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{h:()=>Rail,A:()=>Rail_Rail});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),injectStylesIntoStyleTag=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),styleDomAPI=__webpack_require__("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),styleDomAPI_default=__webpack_require__.n(styleDomAPI),insertBySelector=__webpack_require__("./node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithoutAttributes=__webpack_require__("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),setAttributesWithoutAttributes_default=__webpack_require__.n(setAttributesWithoutAttributes),insertStyleElement=__webpack_require__("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),styleTagTransform=__webpack_require__("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),styleTagTransform_default=__webpack_require__.n(styleTagTransform),Rail_module=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[6].use[1]!./node_modules/postcss-loader/dist/cjs.js!./src/components/dotcom/Rail/Rail.module.css"),options={};options.styleTagTransform=styleTagTransform_default(),options.setAttributes=setAttributesWithoutAttributes_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=styleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(Rail_module.A,options);const Rail_Rail_module=Rail_module.A&&Rail_module.A.locals?Rail_module.A.locals:void 0;var Tile=__webpack_require__("./src/components/dotcom/Tile/Tile.jsx"),Icon=__webpack_require__("./src/components/global/Icon/Icon.jsx"),Button=__webpack_require__("./src/components/dotcom/Button/Button.jsx");const Rail=props=>{const railRef=(0,react.useRef)(null),railListRef=(0,react.useRef)(null),returnEmoji=emojiStr=>{switch(emojiStr){case"Audio Described":return"";case"Comedy":return"m";case"Drama":case"World Drama":return"h";case"Film":return"n";case"Documentaries":return"g";case"Entertainment":default:return"e";case"Lifestyle":return"j";case"Box Sets":return"f";case"Sport":return"d";case"News & Current Affairs":return"k"}},handleRailSlide=evt=>{const dir=evt.target.dataset.dir,railListWidth=Number(railListRef.current.clientWidth),railTitleWidth=Number(railRef.current.firstElementChild.clientWidth),railItemWidth=Number(railRef.current.querySelector("li").clientWidth),currentViewIndex=Number(railListRef.current.dataset.currentview),gapIndex=Math.round(100/(railItemWidth/railTitleWidth*100));let newViewIndex=0;"left"===dir&&currentViewIndex>0?newViewIndex=currentViewIndex-1:"right"===dir&&(newViewIndex=currentViewIndex+1);const movementAmount=newViewIndex*railTitleWidth+(4*gapIndex+newViewIndex*(4*gapIndex));movementAmount<railListWidth?(railListRef.current.dataset.canmove=!0,railListRef.current.dataset.currentview=newViewIndex,railListRef.current.style.setProperty("--railOffset",`-${movementAmount}px`)):railListRef.current.dataset.canmove=!1};return(0,jsx_runtime.jsxs)("div",{className:Rail_Rail_module.rail,ref:railRef,"data-hasbg":props.showRailBg,children:[props.showRailTitle?(0,jsx_runtime.jsx)("h2",{className:Rail_Rail_module.railTitle,children:props.data.title}):null,(0,jsx_runtime.jsx)("button",{"data-dir":"left",onClick:handleRailSlide,className:Rail_Rail_module.slideControl,children:(0,jsx_runtime.jsx)(Icon.A,{iconRef:"chevron"})}),(0,jsx_runtime.jsx)("ul",{className:Rail_Rail_module.railList,ref:railListRef,"data-currentview":0,children:props.iconRail?(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:props.data.sliceItems.map(function(data,i){return(0,jsx_runtime.jsx)("li",{className:Rail_Rail_module.iconTile,children:(0,jsx_runtime.jsx)(Button.A,{btnText:data.title,type:"railIcon",withEmoji:returnEmoji(data.title),tileSize:props.tileSize})})})}):(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:props.data.sliceItems.map(function(data,i){return(0,jsx_runtime.jsx)(Tile.A,{data,tileSize:props.tileSize,expanding:props.expanding,addToList:props.addTolist,showCategories:props.showCategories,showEditorialLabel:props.showEditorialLabel,showMetaBg:props.showMetaBg},i)})})}),(0,jsx_runtime.jsx)("button",{"data-dir":"right",onClick:handleRailSlide,className:Rail_Rail_module.slideControl,children:(0,jsx_runtime.jsx)(Icon.A,{iconRef:"chevron"})})]})},Rail_Rail=Rail;Rail.__docgenInfo={description:"",methods:[],displayName:"Rail"}},"./src/components/dotcom/Rail/Rail.stories.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,Expanding:()=>Expanding,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _Rail__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/components/dotcom/Rail/Rail.jsx"),_public_data_slices_json__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./public/data/slices.json");const __WEBPACK_DEFAULT_EXPORT__={title:"Design System/DotCom/Molecules/Rail",component:_Rail__WEBPACK_IMPORTED_MODULE_0__.h,argTypes:{tileSize:{control:{type:"select"},options:["xs","s","m","l","xl"]}}},Default={parameters:{},args:{data:_public_data_slices_json__WEBPACK_IMPORTED_MODULE_1__.slices[0],platform:"dotcom",tileSize:"xs",expanding:!1,showRailBg:!1,showEditorialLabel:!1,showCategories:!1,addToList:!1,showRailTitle:!1,showMetaBg:!1}},Expanding={parameters:{},args:{data:_public_data_slices_json__WEBPACK_IMPORTED_MODULE_1__.slices[0],platform:"dotcom",tileSize:"xs",expanding:!0,showRailBg:!1,showEditorialLabel:!0,showCategories:!0,addToList:!0,showRailTitle:!0,showMetaBg:!0}},__namedExportsOrder=["Default","Expanding"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{\n  parameters: {},\n  args: {\n    data: data.slices[0],\n    platform: 'dotcom',\n    tileSize: 'xs',\n    expanding: false,\n    showRailBg: false,\n    showEditorialLabel: false,\n    showCategories: false,\n    addToList: false,\n    showRailTitle: false,\n    showMetaBg: false\n  }\n}",...Default.parameters?.docs?.source}}},Expanding.parameters={...Expanding.parameters,docs:{...Expanding.parameters?.docs,source:{originalSource:"{\n  parameters: {},\n  args: {\n    data: data.slices[0],\n    platform: 'dotcom',\n    tileSize: 'xs',\n    expanding: true,\n    showRailBg: false,\n    showEditorialLabel: true,\n    showCategories: true,\n    addToList: true,\n    showRailTitle: true,\n    showMetaBg: true\n  }\n}",...Expanding.parameters?.docs?.source}}}}}]);